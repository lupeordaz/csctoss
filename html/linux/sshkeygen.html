<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
   <TITLE>sshKeys</TITLE>
</HEAD>
 
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">
<HR>

<CENTER>
<TABLE BORDER="1" BGCOLOR="#008080" WIDTH="100%"><TR><TD>
<H1 style="text-align: center;">
<SPAN CLASS=Size60>&nbsp;</SPAN><BR>
<FONT COLOR="#E69900">Creating the SSH Key and pairing it</FONT>
<SPAN CLASS=Size60>&nbsp;</SPAN><BR>
</H1>
</TD></TR></TABLE>
</CENTER>

<pre>

<FONT COLOR="#0000FF" SIZE=5><I>Step 1 - Create the RSA Key Pair</I></FONT><BR>&nbsp;<BR>

	This will be done on the client computer and will create the directory <b>.ssh</b>.

		<b>ssh-keygen -t rsa</b>

<FONT COLOR="#0000FF" SIZE=5>Step 2 — Store the Keys and PassphrasePair</I></FONT><BR>&nbsp;<BR>

	Once you have entered the Gen Key command, you will get a few more questions:

	Enter file in which to save the key (/home/demo/.ssh/id_rsa):

	You can press enter here, saving the file to the user home (in this case, my example user is called demo).

	Enter passphrase (empty for no passphrase):

	It's up to you whether you want to use a passphrase. Entering a passphrase does have its benefits: the security of a key, no matter how encrypted, still depends on the fact that it is not visible to anyone else. Should a passphrase-protected private key fall into an unauthorized users possession, they will be unable to log in to its associated accounts until they figure out the passphrase, buying the hacked user some extra time. The only downside, of course, to having a passphrase, is then having to type it in each time you use the Key Pair.

	The entire key generation process looks like this:

	ssh-keygen -t rsa
	Generating public/private rsa key pair.
	Enter file in which to save the key (/home/demo/.ssh/id_rsa): 
	Enter passphrase (empty for no passphrase): 
	Enter same passphrase again: 
	Your identification has been saved in /home/demo/.ssh/id_rsa.
	Your public key has been saved in /home/demo/.ssh/id_rsa.pub.
	The key fingerprint is:
	4a:dd:0a:c6:35:4e:3f:ed:27:38:8c:74:44:4d:93:67 demo@a
	The key's randomart image is:
	+--[ RSA 2048]----+
	|          .oo.   |
	|         .  o.E  |
	|        + .  o   |
	|     . = = .     |
	|      = S = .    |
	|     o + = +     |
	|      . o + o .  |
	|           . o   |
	|                 |
	+-----------------+

	The public key is now located in /home/demo/.ssh/id_rsa.pub The private key (identification) is now located in /home/demo/.ssh/id_rsa.

<FONT COLOR="#0000FF" SIZE=5>Step 3 — Copy the Public KeyPair</I></FONT><BR>&nbsp;<BR>

	Once the key pair is generated, it's time to place the public key on the virtual server that we want to use.

	You can copy the public key into the new machine's authorized_keys file with the ssh-copy-id command. Make sure to replace the example username and IP address below.

	ssh-copy-id user@123.45.56.78

	Alternatively, you can paste in the keys using SSH; <FONT COLOR="#FF0000"><b><i>This is the preferred method</i></b></FONT>:

		<b>cat ~/.ssh/id_rsa.pub | ssh user@123.45.56.78 "mkdir -p ~/.ssh && cat >>  ~/.ssh/authorized_keys"</b>

</BODY>
</HTML>
